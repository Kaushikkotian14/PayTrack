<h2 class="text-2xl font-bold mb-6">Loan Application</h2>
<form [formGroup]="loanForm" (ngSubmit)="applyLoan()" class="space-y-4 max-w-md mx-auto bg-white p-6 rounded shadow">
    <input formControlName="amount" [(ngModel)]="formData.amount" placeholder="Amount" required type="number"
        class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300" />
    <div *ngIf="loanForm.get('amount')?.touched && loanForm.get('amount')?.invalid" class="text-red-500 text-sm">
        Enter a valid amount.
      </div>

    <input formControlName="duration" [(ngModel)]="formData.duration" placeholder="Duration in months" required type="number"
        class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300" />
    <div *ngIf="loanForm.get('duration')?.touched && loanForm.get('duration')?.invalid" class="text-red-500 text-sm">
        Enter a valid duration.
    </div>

    <input formControlName="reason" placeholder="Reason for applying" required
        class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300" />
    <div *ngIf="loanForm.get('reason')?.touched && loanForm.get('reason')?.invalid" class="text-red-500 text-sm">
        Reason is required.     
    </div>

    <p><b>Interest Rate:</b> {{ calculateInterestRate() }}%</p>
    <p><b>Total Amount to be Repaid:</b> {{ calculateTotalRepayable() | currency:'INR' }}</p>
    <p><b>Monthly Installment:</b> {{ calculateMonthlyInstallment() | currency:'INR' }}</p>
    <button type="submit" 
        class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">Apply</button>
</form>
